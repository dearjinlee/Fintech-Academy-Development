<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="style/index.css" type="text/css">
</head>
<body>

<form>
  <div class="container">
    <img src="image/logo_small.png" style="width:500px; height:200px"><br><br><br>
    <h1>회원가입 - 로그인정보</h1><br>
    <hr>

    <div class="box1">
      <p for="email"><b>&nbsp ID</b></p>
    <input type="text" placeholder="이름 입력" name="email" id="name" >

    <p for="psw"><b>&nbsp 비밀번호</b></p>
    <input type="password" placeholder="비밀번호 입력" name="psw" id="id" >

    <p for="psw-repeat"><b>&nbsp 비밀번호 확인</b></p>
    <input type="password" placeholder="비밀번호 확인" name="psw-repeat" id="password" >

    <button type="button" class="signupbtn">모바일 인증받기</button>
    </div>
  </div>
</form>

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="//code.jquery.com/jquery-3.2.1.min.js"></script>
<script>
//http://testapi.open-platform.or.kr/oauth/2.0/authorize
var qs =
  "?response_type=code&" +
  "client_id=l7xx74cb3784a9c2434882132b32d82cece6&" +
  "redirect_uri=http://localhost:8080/authResult&" +
  "scope=login inquiry transfer&" +
  "auth_type=0&" +
  "invoke_type=ajax";

  $(".signupbtn").click(function(){

      $.ajax({
        url:'https://testapi.open-platform.or.kr/oauth/2.0/authorize2' + qs,
        type: 'get',
      }).done(function(result) {
        console.log(result);
        window.name = "parents";
        var tmpwin = window.open("about:blank");
        tmpwin.location.href = result.location;
        $(".signupbtn").prop("disabled",true);
        $(".signupbtn").css("background","gray");
        $(".signupbtn").text('완료');
      });

      //console.log("server log : " + input_name,input_phone,input_age);
  })

</script>

</body>
</html>
